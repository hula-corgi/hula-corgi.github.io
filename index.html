<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Hula Corgi&#39;s site">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hula Corgi&#39;s site">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hula Corgi&#39;s site">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Hula Corgi's site</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hula Corgi's site</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">糊辣小柯基</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/22/Zabbix监控VMware环境记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hula Corgi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hula Corgi's site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/22/Zabbix监控VMware环境记录/" itemprop="url">Zabbix监控VMware环境记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-22T21:45:44+08:00">
                2019-09-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>操作系统版本:Centos7.6 64位<br>版本：Zabbix4.2<br>安装方式：rpm包离线安装  </p>
<h2 id="一、下载安装包（可联网服务器）"><a href="#一、下载安装包（可联网服务器）" class="headerlink" title="一、下载安装包（可联网服务器）"></a>一、下载安装包（可联网服务器）</h2><h3 id="下载Mysql"><a href="#下载Mysql" class="headerlink" title="下载Mysql"></a>下载Mysql</h3><p>1.获取mysql源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>2.安装mysql源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo rpm -ivh mysql-community-release-el7-5.noarch.rpm</span><br></pre></td></tr></table></figure>

<p>3.安装mysql（仅下载）  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install --downloadonly mysql-server</span><br></pre></td></tr></table></figure>

<p>下载的包位于：/var/cache/yum/x86_64/7/  </p>
<h3 id="下载fping包"><a href="#下载fping包" class="headerlink" title="下载fping包"></a>下载fping包</h3><p><a href="http://rpmfind.net/linux/rpm2html/search.php?query=fping" target="_blank" rel="noopener">rpm链接</a>  </p>
<h3 id="下载zabbix组件包"><a href="#下载zabbix组件包" class="headerlink" title="下载zabbix组件包"></a>下载zabbix组件包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -Uvh https://repo.zabbix.com/zabbix/4.2/rhel/7/x86_64/zabbix-release-4.2-2.el7.noarch.rpm</span><br><span class="line">$ yum clean all</span><br><span class="line">$ sudo yum install --downloadonly zabbix-server-mysql zabbix-web-mysql zabbix-agent</span><br></pre></td></tr></table></figure>

<h2 id="二、安装Zabbix（离线服务器）"><a href="#二、安装Zabbix（离线服务器）" class="headerlink" title="二、安装Zabbix（离线服务器）"></a>二、安装Zabbix（离线服务器）</h2><h3 id="配置本地YUM源"><a href="#配置本地YUM源" class="headerlink" title="配置本地YUM源"></a>配置本地YUM源</h3><p>1.packages下面放置rpm包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\zabbix</span><br><span class="line">-packages</span><br><span class="line">-repodata</span><br><span class="line">-gen</span><br></pre></td></tr></table></figure>

<p>2.创建repodata  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ createrepo ./</span><br></pre></td></tr></table></figure>

<p>每次package新增文件后需要重新执行ceraterepo，并且yum clean all<br>3.repo文件增加内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[zabbix]</span><br><span class="line">name=zabbix</span><br><span class="line">gpgcheck=0</span><br><span class="line">baseurl=file:///var/opt/rpm/yum/x86_64/7/zabbix</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure>

<h3 id="安装fping"><a href="#安装fping" class="headerlink" title="安装fping"></a>安装fping</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install fping</span><br></pre></td></tr></table></figure>

<h3 id="安装Zabbix组件"><a href="#安装Zabbix组件" class="headerlink" title="安装Zabbix组件"></a>安装Zabbix组件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum -y install zabbix-server-mysql zabbix-web-mysql zabbix-agent</span><br></pre></td></tr></table></figure>

<h3 id="安装mysql"><a href="#安装mysql" class="headerlink" title="安装mysql"></a>安装mysql</h3><p>1.安装rpm包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install -y mysql mysql-server</span><br></pre></td></tr></table></figure>

<p>2.初始数据库<br><a href="https://blog.csdn.net/pengjunlee/article/details/81212250" target="_blank" rel="noopener">参考</a><br>设置root和zabbix账户密码为zabbix</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -u root</span><br><span class="line">$ mysql&gt; create database zabbix character set utf8 collate utf8_bin;</span><br><span class="line">$ mysql&gt; grant all privileges on zabbix.* to zabbix@localhost i $ $ dentified by &apos;password&apos;;</span><br><span class="line">$ mysql&gt; quit;</span><br></pre></td></tr></table></figure>

<p>3.导入初始架构和数据，系统将提示您输入新创建的密码  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix</span><br></pre></td></tr></table></figure>

<p>4.为Zabbix server配置数据库<br>编辑配置文件 /etc/zabbix/zabbix_server.conf   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DBPassword=zabbix</span><br></pre></td></tr></table></figure>

<h3 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h3><p>1.为Zabbix前端配置PHP<br>编辑配置文件 /etc/httpd/conf.d/zabbix.conf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php_value date.timezone Asia/Shanghai</span><br></pre></td></tr></table></figure>

<p>2.启动Zabbix server和agent进程，并为它们设置开机自启</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl restart zabbix-server zabbix-agent httpd</span><br><span class="line">$ systemctl enable zabbix-server zabbix-agent httpd</span><br></pre></td></tr></table></figure>

<h2 id="三、运行配置Zabbix"><a href="#三、运行配置Zabbix" class="headerlink" title="三、运行配置Zabbix"></a>三、运行配置Zabbix</h2><p>1.<a href="http://168.61.73.100/zabbix" target="_blank" rel="noopener">http://168.61.73.100/zabbix</a><br><img src="image/zabbix/zabbix_welcome.JPG" alt="welcome"><br><img src="image/zabbix/zabbix_welcome.JPG" alt="preconfig"><br>设置用户名和密码均为zabbix<br>2.修改语言为中文<br><a href="http://guanjianfeng.com/wap/index-wap2.php?p=1161644" target="_blank" rel="noopener">参考</a></p>
<h2 id="四、配置VMWARE监控"><a href="#四、配置VMWARE监控" class="headerlink" title="四、配置VMWARE监控"></a>四、配置VMWARE监控</h2><p><a href="https://www.zabbix.com/documentation/4.2/manual/vm_monitoring" target="_blank" rel="noopener">官方文档</a><br>1.添加主机（vcenter）  </p>
<p><a href="https://www.jianshu.com/p/2767fc363944" target="_blank" rel="noopener">民间文档</a><br>1.zabbix server端增加依赖  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install sblim-wbemcli.x86_64 pywbem.noarch python2-pyvmomi.noarch python-setuptools jq python-setuptools zabbix-sender.x86_64</span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">2.编辑脚本  </span><br><span class="line">agent_vsphere_wrapper  </span><br><span class="line">agent_vsphere  </span><br><span class="line"></span><br><span class="line">3.将两个脚本上传到/usr/lib/zabbix/externalscripts/，并为两个脚本授权后重启zabbix server</span><br></pre></td></tr></table></figure>

<p>$ chmod a+x agent_vsphere_wrapper agent_vsphere<br>$ service zabbix-server restart</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4.使用ssh终端连接esxi宿主机，执行如下命令：  </span><br><span class="line">update:推荐通过主机配置文件方式配置snmp  </span><br><span class="line">用vi编辑器打开snmp配置文件并用以下内容替换原内容，保险起见请在修改器备份该文件。</span><br></pre></td></tr></table></figure>

<p>$ vi /etc/vmware/snmp.xml<br><?xml version="1.0" encoding="ISO-8859-1"?><br><config><br>    <snmpsettings><br>        <enable>true</enable><br>        <port>161</port><br>        <syscontact></syscontact><br>        <syslocation></syslocation><br>        <enveventsource>indications</enveventsource><br>        <communities>public</communities><br>        <loglevel>info</loglevel><br>        <authprotocol></authprotocol><br>        <privprotocol></privprotocol><br>    </snmpsettings><br></config> </p>
<p>$ /etc/init.d/snmpd restart</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">启用并设定好共同体名后，可以用snmpwalk验证一下：snmpwalk -v 2c -c communities esxi_ip，看到很多滚动oid信息，代表snmp获取正常。  </span><br><span class="line"></span><br><span class="line">界面开启mob的方法  \</span><br><span class="line">![通过界面的高级设置开启](image/zabbix/esxi_mob.JPG)</span><br><span class="line"></span><br><span class="line">5.查找esxi的UUid</span><br><span class="line">https://168.61.36.51/mob/?moid=ha-host&amp;doPath=hardware%2esystemInfo</span><br><span class="line"></span><br><span class="line">6.导入第三方模板</span><br><span class="line">导入前配置</span><br></pre></td></tr></table></figure>

<p>Go to “Administration -&gt; General -&gt; Value Mapping” and create the following mappings:</p>
<p> VMware - Ethernet Port Status</p>
<p> 0 = Disabled<br> 1 = Enabled<br> 2 = Down</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">![值映射建立](image/zabbix/zabbix_esxi-template_config.JPG)</span><br><span class="line">导入模板</span><br><span class="line"></span><br><span class="line">7.在zabbix添加esxi主机，配置模板，配置宏</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">8.修改zabbix_conf配置，开启对VMware监控数据的收集</span><br></pre></td></tr></table></figure>

<p>$ vim zabbbix_server.conf<br>StartVMwareCollectors=2   #只有大于0时才能是该功能生效，意为预先配置的vmware监控实例数量<br>VMwareFrequency=10        #zabbix获取更新vmware集群结构的最小间隔时间，单位为分钟<br>VMwareCacheSize=80M     #内存中维护的vmware集群结构的大小<br>$ service zabbix-server restart</p>
<pre><code></code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/22/一键搭建科学访问记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hula Corgi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hula Corgi's site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/22/一键搭建科学访问记录/" itemprop="url">一键搭建科学访问记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-22T21:34:08+08:00">
                2019-09-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="第一步，购买搬瓦工"><a href="#第一步，购买搬瓦工" class="headerlink" title="第一步，购买搬瓦工"></a>第一步，购买搬瓦工</h3><p>[中文网，内有优惠码]（<a href="https://www.bandwagonhost.net/）" target="_blank" rel="noopener">https://www.bandwagonhost.net/）</a></p>
<h3 id="第二步，部署SS"><a href="#第二步，部署SS" class="headerlink" title="第二步，部署SS"></a>第二步，部署SS</h3><p><a href="https://www.chshuju.com/style/info/xinwen.asp?id=111" target="_blank" rel="noopener">参考</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/15/CCNA考试流水账记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hula Corgi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hula Corgi's site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/15/CCNA考试流水账记录/" itemprop="url">CCNA流水账记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-15T20:50:17+08:00">
                2019-09-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="考试报名"><a href="#考试报名" class="headerlink" title="考试报名"></a>考试报名</h3><p>淘宝搜索鸿鹄论坛  </p>
<h3 id="辅导网站"><a href="#辅导网站" class="headerlink" title="辅导网站"></a>辅导网站</h3><p><a href="https://bbs.hh010.com/forum.php" target="_blank" rel="noopener">鸿鹄论坛，报名送半年vip</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/01/Vmware兼容性检查常用命令（网卡、HBA卡、驱动、BIOS版本等）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hula Corgi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hula Corgi's site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/01/Vmware兼容性检查常用命令（网卡、HBA卡、驱动、BIOS版本等）/" itemprop="url">Vmware兼容性检查常用命令（网卡、HBA卡、驱动、BIOS版本等）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-01T22:04:43+08:00">
                2019-09-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="检查前准备"><a href="#检查前准备" class="headerlink" title="检查前准备"></a>检查前准备</h3><ol>
<li><p>登录<a href="https://www.vmware.com/resources/compatibility/search.php" target="_blank" rel="noopener">VMware兼容性检查网站</a></p>
</li>
<li><p>进入ESXi的命令行界面</p>
<h3 id="检查HBA卡和RAID卡"><a href="#检查HBA卡和RAID卡" class="headerlink" title="检查HBA卡和RAID卡"></a>检查HBA卡和RAID卡</h3></li>
<li><p>hba卡和raid卡的型号查看</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ esxcfg-scsidevs -a</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查hba卡的驱动版本</p>
<pre><code class="bash">$ vmkchdev -l | grep hba </code></pre>
<p>返回结果示例：8086:8d62 8086:7270 vmkernel vmhab0  </p>
</li>
<li><p>在兼容性网站查看，选择I/O device，依次输入VID:DID SVID:SSID，有结果则表示符合兼容性要求</p>
<h3 id="检查网卡"><a href="#检查网卡" class="headerlink" title="检查网卡"></a>检查网卡</h3></li>
<li><p>检查网卡驱动</p>
<pre><code class="bash">$ vmkchdev -l | grep nic</code></pre>
</li>
<li><p>检查网卡型号</p>
<pre><code class="bash">$ esxcli network nic list </code></pre>
<h3 id="查看bios版本"><a href="#查看bios版本" class="headerlink" title="查看bios版本"></a>查看bios版本</h3><pre><code class="bash">$ smbiosDump | more </code></pre>
<h3 id="查看各设备驱动版本"><a href="#查看各设备驱动版本" class="headerlink" title="查看各设备驱动版本"></a>查看各设备驱动版本</h3><pre><code class="bash">esxcli software vib list | grep XXX </code></pre>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>更详细方法请看该作者文章,<a href="https://www.v2ex.com/t/449039" target="_blank" rel="noopener">VMware 兼容性检查指北</a></p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/01/Vmware Tools常用命令（安装、重启、恢复、卸载）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hula Corgi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hula Corgi's site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/01/Vmware Tools常用命令（安装、重启、恢复、卸载）/" itemprop="url">Vmware Tools常用命令（安装、重启、恢复、卸载）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-01T21:50:31+08:00">
                2019-09-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><ol>
<li><p>通过vCenter或者Console控制台点击安装VMware Tools，对应的ISO映像被挂载到客户机操作系统中。</p>
</li>
<li><p>点击 setup64.exe开始安装，选择完全安装，不需要重启操作系统，完成后系统托盘会出现VM图标。</p>
</li>
<li><p>（可选）点击设备管理器-显示适配器-VMware SVGA-更新驱动（C:\Program Files\Common Files\VMware\Drivers\video_wddm），该步骤在Server 2012以后不再需要</p>
<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3></li>
<li><p>通过vCenter或者Console控制台点击安装VMware Tools，对应的ISO映像被挂载到客户机操作系统中。</p>
</li>
<li><p>进入安装路径</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /media/VMware\ Tools   </span><br><span class="line">``` </span><br><span class="line">对于CenotOS 7.3,需要先挂载：</span><br><span class="line">``` bash</span><br><span class="line">$ mkdir /mnt/cdrom</span><br><span class="line">$ mount -t auto /dev/cdrom /mnt/cdrom</span><br><span class="line">$ <span class="built_in">cd</span> /mnt/cdrom</span><br><span class="line">```  </span><br><span class="line">3. 拷贝到其他路径后解压，执行</span><br><span class="line">``` bash</span><br><span class="line">$ 运行 vmware-install.pl</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装完成后，在虚拟机的Summary状态栏也可以看到VMware工具的状态。</p>
</li>
<li><p>升级VMware：右键虚拟机-客户机操作系统-升级VMware Tools</p>
</li>
</ol>
<h2 id="重启"><a href="#重启" class="headerlink" title="重启"></a>重启</h2><h3 id="Linux-1"><a href="#Linux-1" class="headerlink" title="Linux"></a>Linux</h3><p>对于centos 6/redhat 6:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ /etc/vmware-tools/services.sh restart</span><br></pre></td></tr></table></figure>

<p>对于centos 7:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/vmware-tools/</span><br></pre></td></tr></table></figure>

<p>service vmware-tools restart</p>
<h2 id="重置"><a href="#重置" class="headerlink" title="重置"></a>重置</h2><h3 id="Linux-2"><a href="#Linux-2" class="headerlink" title="Linux"></a>Linux</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 运行 /usr/bin/vmware-config-tools.pl</span><br></pre></td></tr></table></figure>

<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><h3 id="Linux-3"><a href="#Linux-3" class="headerlink" title="Linux"></a>Linux</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 运行 vmware-uninstall-tools.pl</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/01/Hexo搭建博客常用命令/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hula Corgi">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hula Corgi's site">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/01/Hexo搭建博客常用命令/" itemprop="url">Hexo搭建博客常用命令</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-01T18:34:43+08:00">
                2019-09-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="参考网站"><a href="#参考网站" class="headerlink" title="参考网站"></a>参考网站</h3><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo官网</a><br><a href="https://hexo.io/docs/" target="_blank" rel="noopener">Hexo文档</a>    </p>
<h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">### 安装hexo</span><br></pre></td></tr></table></figure>

<p>$ npm install -g hexo-cli</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">### 初始化一个新hexo博客</span><br><span class="line">随便找一个新建目录</span><br></pre></td></tr></table></figure>

<p>$hexo init</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">### 配置远程部署到git</span><br><span class="line">[参考](https://www.jianshu.com/p/343934573342)</span><br><span class="line">### 配置Hexo多设备同步</span><br><span class="line">[参考](https://www.jianshu.com/p/343934573342)</span><br><span class="line"></span><br><span class="line">### 博客本地路径目录结构</span><br><span class="line">![Hexo本地路径目录结构](image/Hexo本地路径目录结构.JPG)</span><br><span class="line"></span><br><span class="line">### 运行本地预览</span><br><span class="line">``` </span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>

<h3 id="生成网站"><a href="#生成网站" class="headerlink" title="生成网站"></a>生成网站</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>

<h3 id="发布到远程站点"><a href="#发布到远程站点" class="headerlink" title="发布到远程站点"></a>发布到远程站点</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>

<h3 id="Hexo-多电脑部署"><a href="#Hexo-多电脑部署" class="headerlink" title="Hexo 多电脑部署"></a>Hexo 多电脑部署</h3><p><a href="https://www.jianshu.com/p/0b1fccce74e0" target="_blank" rel="noopener">参考</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Hula Corgi</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hula Corgi</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
